{"version":3,"file":"errorHandler.js","sources":["utils/errorHandler.ts"],"sourceRoot":"/","sourcesContent":["import { Request, Response, NextFunction } from \"express\";\n\ntype ErrorRequestHandler = (\n  err: { name: string; message: string; status: number },\n  req: Request,\n  res: Response,\n  next: NextFunction\n) => void;\n\nconst errorHandler: ErrorRequestHandler = (err, req, res, next) => {\n  if (err.name === \"UnauthorizedError\") {\n    return res.status(401).json({\n      error: \"unauthorized\",\n      message: err.message || \"Authorization failed\",\n    });\n  }\n\n  res.status(err.status || 500).json({\n    error: \"internal_server_error\",\n    message: err.message || \"An unexpected error occurred\",\n  });\n};\n\nexport default errorHandler;\n"],"names":[],"mappings":";;;;AASA,MAAM,YAAY,GAAwB,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE;IAChE,IAAI,GAAG,CAAC,IAAI,KAAK,mBAAmB,EAAE,CAAC;QACrC,OAAO,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC;YAC1B,KAAK,EAAE,cAAc;YACrB,OAAO,EAAE,GAAG,CAAC,OAAO,IAAI,sBAAsB;SAC/C,CAAC,CAAC;IACL,CAAC;IAED,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC;QACjC,KAAK,EAAE,uBAAuB;QAC9B,OAAO,EAAE,GAAG,CAAC,OAAO,IAAI,8BAA8B;KACvD,CAAC,CAAC;AACL,CAAC,CAAC;AAEF,kBAAe,YAAY,CAAC","debug_id":"b9a7c33b-b038-59d4-b628-6c405194d6dc"}