{"version":3,"file":"create-team-member.js","sources":["application/use-cases/team-member/create-team-member.ts"],"sourceRoot":"/","sourcesContent":["import teamMemberRepositoryDb from \"../../../infrastructure/data/prisma/prisma-team-member-repository\";\nimport { TeamMemberRepositoryPort } from \"../../../application/ports/team-member-repository\";\n\nconst createCreateTeamMemberUseCase = (dependencies: {\n  teamMemberRepositoryDb: TeamMemberRepositoryPort;\n}) => {\n  return {\n    execute: async (data: { userId: string; teamId: string }) => {\n      //team zjisit na základe userID\n      //ověřit že není již v jiném týmu\n      //co se stane s bývalým týmem uživatele pozvaného do jiného týmu?\n      // najít shodu mezi emailem a 4posledníma znaky userID\n      const newTeamMember = await dependencies.teamMemberRepositoryDb.create({\n        userId: data.userId,\n        teamId: data.teamId,\n        canAccessStocks: true,\n        canAccessClients: true,\n        canAccessVisits: true,\n      });\n\n      return newTeamMember;\n    },\n  };\n};\n\nexport type CreateTeamMemberUseCaseType = ReturnType<\n  typeof createCreateTeamMemberUseCase\n>;\nconst createTeamMemberUseCase = createCreateTeamMemberUseCase({\n  teamMemberRepositoryDb,\n});\n\nexport default createTeamMemberUseCase;\n"],"names":[],"mappings":";;;;;;;AAAA,sIAAuG;AAGvG,MAAM,6BAA6B,GAAG,CAAC,YAEtC,EAAE,EAAE;IACH,OAAO;QACL,OAAO,EAAE,KAAK,EAAE,IAAwC,EAAE,EAAE;YAC1D,+BAA+B;YAC/B,iCAAiC;YACjC,iEAAiE;YACjE,sDAAsD;YACtD,MAAM,aAAa,GAAG,MAAM,YAAY,CAAC,sBAAsB,CAAC,MAAM,CAAC;gBACrE,MAAM,EAAE,IAAI,CAAC,MAAM;gBACnB,MAAM,EAAE,IAAI,CAAC,MAAM;gBACnB,eAAe,EAAE,IAAI;gBACrB,gBAAgB,EAAE,IAAI;gBACtB,eAAe,EAAE,IAAI;aACtB,CAAC,CAAC;YAEH,OAAO,aAAa,CAAC;QACvB,CAAC;KACF,CAAC;AACJ,CAAC,CAAC;AAKF,MAAM,uBAAuB,GAAG,6BAA6B,CAAC;IAC5D,sBAAsB,EAAtB,uCAAsB;CACvB,CAAC,CAAC;AAEH,kBAAe,uBAAuB,CAAC","debug_id":"2eb8ad44-d549-54f5-9ec5-14e3ddcc0e04"}