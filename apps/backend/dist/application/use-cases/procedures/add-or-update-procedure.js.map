{"version":3,"file":"add-or-update-procedure.js","sources":["application/use-cases/procedures/add-or-update-procedure.ts"],"sourceRoot":"/","sourcesContent":["// application/use-cases/procedure/add-or-update-procedure.ts\nimport {\n  ProcedureCreateData,\n  ProcedureRepositoryPort,\n} from \"@/application/ports/procedure-repository\";\nimport procedureRepositoryDb from \"../../../infrastructure/data/prisma/prisma-procedure-repository\";\nimport { Procedure } from \".prisma/client\";\n\nconst createAddOrUpdateProcedureUseCase = (dependencies: {\n  procedureRepositoryDb: ProcedureRepositoryPort;\n}) => {\n  return {\n    execute: async (data: ProcedureCreateData): Promise<Procedure> => {\n      if (!data.visitId) {\n        throw new Error(\"Missing visitId.\");\n      }\n\n      return dependencies.procedureRepositoryDb.addOrUpdate(data);\n    },\n  };\n};\n\nconst addOrUpdateProcedureUseCase = createAddOrUpdateProcedureUseCase({\n  procedureRepositoryDb: procedureRepositoryDb,\n});\n\nexport type AddOrUpdateProcedureUseCaseType = ReturnType<\n  typeof createAddOrUpdateProcedureUseCase\n>;\n\nexport default addOrUpdateProcedureUseCase;\n"],"names":[],"mappings":";;;;;;;AAKA,kIAAoG;AAGpG,MAAM,iCAAiC,GAAG,CAAC,YAE1C,EAAE,EAAE;IACH,OAAO;QACL,OAAO,EAAE,KAAK,EAAE,IAAyB,EAAsB,EAAE;YAC/D,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC;gBAClB,MAAM,IAAI,KAAK,CAAC,kBAAkB,CAAC,CAAC;YACtC,CAAC;YAED,OAAO,YAAY,CAAC,qBAAqB,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;QAC9D,CAAC;KACF,CAAC;AACJ,CAAC,CAAC;AAEF,MAAM,2BAA2B,GAAG,iCAAiC,CAAC;IACpE,qBAAqB,EAAE,qCAAqB;CAC7C,CAAC,CAAC;AAMH,kBAAe,2BAA2B,CAAC","debug_id":"fe3a7bfd-d1bb-5afe-a0cb-3a4fc61de049"}